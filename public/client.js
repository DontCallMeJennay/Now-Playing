"use strict";function handleClientLoad(){gapi.load("client:auth2",initClient)}function initClient(){gapi.client.init({discoveryDocs:DISCOVERY_DOCS,clientId:CLIENT_ID,scope:SCOPES}).then(function(){gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus),updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get()),authorizeButton.onclick=handleAuthClick,signoutButton.onclick=handleSignoutClick})}function updateSigninStatus(t){t?(authorizeButton.style.display="none",signoutButton.style.display="block",getSubscriptions()):(authorizeButton.style.display="block",signoutButton.style.display="none",vm.ytResults=[{}])}function handleAuthClick(t){gapi.auth2.getAuthInstance().signIn()}function handleSignoutClick(t){gapi.auth2.getAuthInstance().signOut()}function getSubscriptions(){gapi.client.youtube.subscriptions.list({part:"snippet,contentDetails",mine:"true",maxResults:20}).then(function(t){vm.setVideoList(t.result.items)})}var vm=new Vue({el:"#vue-app",data:{twitchResults:[],ytResults:[],steamResults:[],twitchName:"",steamId:""},methods:{setUser:function(t){this.twitchName=t},getStreamList:function(t){$.ajax({type:"POST",url:"/streams",headers:{username:t},success:function(t){vm.setStreamList(t),$("#games").css({color:"#4B367C"})},error:function(t){console.error(t)}})},setStreamList:function(t){for(var e=0;e<t[0].length;e++)t[0][e].display_name=t[1][e].display_name,t[0][e].logo=t[1][e].profile_image_url;this.twitchResults=t[0]},setSteamList:function(t){this.steamResults=t,console.log("steamResults: ",t)},getVideoList:function(t){},setVideoList:function(t){this.ytResults=t,$("#videos").css({color:"red"})},clearList:function(){this.twitchResults=[]}},mounted:function(){var t=localStorage.getItem("twitchName");t&&(this.setUser(t,"twitchName"),this.getStreamList(this.twitchName))}}),CLIENT_ID="372774319049-pk9d85udr75rlqcluuq12apdeqtnk8go.apps.googleusercontent.com",DISCOVERY_DOCS=["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],SCOPES="https://www.googleapis.com/auth/youtube.readonly",authorizeButton=document.getElementById("authorize-button"),signoutButton=document.getElementById("signout-button");